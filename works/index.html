---
layout: default
title: "Portofolio"
---
{% include header.html %}
<header class="text-center py-8">
  <h1 class="text-3xl font-bold text-teal-900 dark:text-teal-300">Portofolio</h1>
</header>

{% comment %} Build list of unique genres (comma-separated in front matter) {% endcomment %}
{% capture genres_str %}{% endcapture %}
{% assign works_sorted = site.works | sort: "title" %}
{% for work in works_sorted %}
  {% if work.genre %}
    {% assign parts = work.genre | split: "," %}
    {% for g in parts %}
      {% assign gtrim = g | strip %}
      {% unless genres_str contains gtrim %}
        {% assign genres_str = genres_str | append: gtrim | append: "|" %}
      {% endunless %}
    {% endfor %}
  {% else %}
    {% unless genres_str contains "Uncategorized" %}
      {% assign genres_str = genres_str | append: "Uncategorized" | append: "|" %}
    {% endunless %}
  {% endif %}
{% endfor %}
{% assign genres = genres_str | split: "|" %}

{% for genre in genres %}
  {% if genre != "" %}
    <h3 class="text-lg block ml-2">{{ genre }}</h3>
    <section>
      <div class="relative flex flex-wrap p-3 gap-8">
        {% for work in works_sorted %}
          {% assign has_genre = false %}
          {% if work.genre %}
            {% assign parts = work.genre | split: "," %}
            {% for g in parts %}
              {% if g | strip == genre %}
                {% assign has_genre = true %}
              {% endif %}
            {% endfor %}
          {% else %}
            {% if genre == "Uncategorized" %}
              {% assign has_genre = true %}
            {% endif %}
          {% endif %}

          {% if has_genre %}
          <div class="max-w-lg shrink-0 snap-center">
            <a href="{{ work.url }}">
              <img class="aspect-[9/14] w-40 shrink-0 rounded-lg bg-white object-cover shadow-xl" src="{{ work.cover | default: '/assets/images/placeholder.png' }}" alt="{{ work.title }}" />
              <div class="block truncate w-40">{{ work.title }}</div>
            </a>
          </div>
          {% endif %}
        {% endfor %}
      </div>
    </section>
  {% endif %}
{% endfor %}